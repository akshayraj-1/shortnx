(()=>{const t=document.getElementById("name"),n=document.getElementById("email"),a=document.getElementById("password"),o=document.getElementById("btn-signup");[t,n,a].forEach((t=>t.addEventListener("input",(()=>{t.value&&InputValidation.toggleErrorState(t)})))),a.addEventListener("keypress",(t=>"Enter"===t.key&&o.click())),o.addEventListener("click",(async()=>{if(!InputValidation.validateName(t)||!InputValidation.validateEmail(n)||!InputValidation.validatePassword(a))return;const o={name:t.value,email:n.value,password:a.value};try{loadingModal.show();const t=await fetch("/auth/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)}),i=await t.json();if(i.success)window.location.replace("/user/dashboard");else{const t=i.message||"Something went wrong";t.toLowerCase().includes("email")?InputValidation.toggleErrorState(n,t):t.toLowerCase().includes("password")?InputValidation.toggleErrorState(a,t):toast.showToast(t,toast.types.error)}}catch(t){toast.showToast("Something went wrong",toast.types.error||t.message)}finally{loadingModal.hide()}}))})();