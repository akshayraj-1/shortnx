window.shareModal=new class{#t;#e;#i;#s;#a={backdrop:{default:["modal-backdrop","hidden","px-6"],show:["animate-fade-in","flex","justify-center","items-center"],hide:["animate-fade-out","hidden"]},modal:{default:["flex","flex-col","w-full","max-w-[400px]","p-6","md:p-8","bg-colorSurface","rounded-xl","outline-none"],show:["animate-pop-up"],hide:["animate-pop-down"]},title:{default:["text-lg","sm:text-xl","font-semibold"]},shortUrl:{default:["w-full","text-sm","sm:text-base","text-textPrimary","overflow-ellipsis","overflow-hidden"]},btnClose:{default:["text-[1.5rem]","text-textSecondary","cursor-pointer","icon-close-md"]},btnSocial:{default:["p-5","rounded-full","ring-1","ring-inset","ring-slate-300","cursor-pointer","size-[4.5rem]"]},btnCopy:{default:["absolute","top-0","right-0","flex","items-center","justify-center","h-full","px-3","bg-colorPrimary","text-white","cursor-pointer","icon-copy-alt"]}};constructor(){this.#t=document.createElement("div"),this.#t.className=this.#a.backdrop.default.join(" "),this.#e=document.createElement("div"),this.#e.className=this.#a.modal.default.join(" "),this.#e.setAttribute("aria-hidden",!0),this.#e.innerHTML=`\n             <div class="flex items-center justify-between">\n                    <h3 class="${this.#a.title.default.join(" ")}">Your link is ready! ðŸŽ‰</h3>\n                    <button id="modal-share-btn-close" class="${this.#a.btnClose.default.join(" ")}"></button>\n                </div>\n                <div class="flex items-center justify-evenly mt-8 gap-3">\n                    <button class="${this.#a.btnSocial.default.join(" ")}" data-action="whatsapp" title="Share on WhatsApp">\n                        <img src="/images/whatsapp.svg" alt="Share on WhatsApp">\n                    </button>\n                    <button class="${this.#a.btnSocial.default.join(" ")}" data-action="twitter" title="Share on X">\n                        <img src="/images/twitter_alt.svg" alt="Share on Twitter">\n                    </button>\n                    <button class="${this.#a.btnSocial.default.join(" ")}" data-action="email" title="Share via Email">\n                        <img src="/images/envelope.svg" alt="Share via Email">\n                    </button>\n                </div>\n                <div class="relative mt-8 mb-4 px-4 py-2.5 font-medium bg-colorSurfaceSecondary rounded-md ring-1 ring-inset ring-slate-300 overflow-hidden">\n                    <span id="modal-share-short-url" class="${this.#a.shortUrl.default.join(" ")}"></span>\n                    <button id="modal-share-btn-copy" class="${this.#a.btnCopy.default.join(" ")}" title="Copy URL" aria-label="Copy URL"></button>\n                </div>\n        `,this.#t.appendChild(this.#e),document.body.prepend(this.#t),this.#i=document.getElementById("modal-share-short-url"),this.#o()}#o(){document.getElementById("modal-share-btn-close").addEventListener("click",(()=>this.hideModal())),document.getElementById("modal-share-btn-copy").addEventListener("click",(()=>{navigator.clipboard.writeText(this.#i.textContent).then((t=>{window.toast.showToast("Copied to clipboard",toast.types.success)}))})),document.querySelectorAll("[data-action]").forEach((t=>{t.addEventListener("click",(()=>{switch(t.getAttribute("data-action")){case"whatsapp":window.open(`https://api.whatsapp.com/send?text=${this.#i.textContent}`);break;case"twitter":window.open(`https://twitter.com/intent/tweet?text=${this.#i.textContent}`);break;case"email":window.open(`mailto:?subject=Shorten URL&body=${this.#i.textContent}`)}}))})),this.#s=t=>{"escape"===t.key.toLowerCase()&&this.hideModal()}}showModal(t){this.#i.textContent=t,this.#t.setAttribute("aria-hidden","false"),this.#e.setAttribute("aria-modal","true"),this.#e.setAttribute("role","dialog"),this.#e.setAttribute("tabindex","0"),this.#t.classList.remove(...this.#a.backdrop.hide),this.#t.classList.add(...this.#a.backdrop.show),this.#e.classList.remove(...this.#a.modal.hide),this.#e.classList.add(...this.#a.modal.show),this.#e.focus(),document.body.style.overflow="hidden",document.addEventListener("keydown",this.#s)}hideModal(){this.#t.setAttribute("aria-hidden","true"),this.#e.setAttribute("aria-modal","false"),this.#e.setAttribute("role","dialog"),this.#e.setAttribute("tabindex","-1"),this.#e.classList.remove(...this.#a.modal.show),this.#e.classList.add(...this.#a.modal.hide),setTimeout((()=>{this.#t.classList.remove(...this.#a.backdrop.show),this.#t.classList.add(...this.#a.backdrop.hide),document.body.style.overflow="auto"}),300),document.removeEventListener("keydown",this.#s)}};