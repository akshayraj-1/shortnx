window.createLinkModal=new class{#t;#e;#n={backdrop:{default:["modal-backdrop","hidden","py-10","sm:px-6"],show:["animate-fade-in","flex","justify-center","items-center","outline-none"],hide:["animate-fade-out","hidden"]},modal:{default:["flex-1","w-full","max-w-4xl","py-9","bg-colorSurface","rounded-xl"],show:["animate-pop-up"],hide:["animate-pop-down"]}};constructor(){this.#t=document.createElement("div"),this.#t.className=this.#n.backdrop.default.join(" "),this.#e=document.createElement("div"),this.#e.className=this.#n.modal.default.join(" "),this.#e.innerHTML='\n              <div class="flex flex-col px-6 sm:px-8 md:px-10 size-full">\n                    <div class="flex justify-between items-center w-full">\n                        <h3 class="text-lg sm:text-xl font-semibold">\n                            <img class="inline-block text-[15px] p-1 me-1.5 size-7 bg-gray-100 rounded-full"\n                                 src="https://cdn.shortnx.in/images/site-alt.svg"\n                                 alt="icon"/>\n                            Create link\n                        </h3>\n                        <button id="modal-link-btn-close" class="icon-close-md text-[1.2rem] text-textPrimary"></button>\n                    </div>\n                    <div class="h-full flex flex-wrap gap-5 mt-10 overflow-y-auto overflow-x-hidden no-scrollbar" style="max-height: calc(100vh - 200px);">\n                        <div class="flex-1 flex flex-col gap-4 min-w-3xs">\n                            <div class="flex flex-col gap-1.5">\n                                <label for="input-target-link" class="text-sm text-textSecondary font-medium">Target link</label>\n                                <input id="input-target-link"\n                                       class="input-default text-[0.9rem]"\n                                       type="text"\n                                />\n                            </div>\n                            <div class="flex flex-col gap-1.5">\n                                <label for="input-short-link" class="flex justify-between items-center text-sm text-textSecondary font-medium">\n                                    Short link <button id="btn-generate-random-id" \n                                    class="icon-shuffle inline-block text-base hover:text-textPrimary" \n                                    title="Generate random short link"></button>\n                                </label>\n                                <div class="flex items-center rounded-lg border border-slate-300 focus-within:ring-1 focus-within:ring-slate-300">\n                                    <span class="text-sm font-medium border-r border-slate-300 px-3 select-none">shortnx.in</span>\n                                    <input id="input-short-link"\n                                           class="flex-1 input-default text-[0.9rem] border-none focus:ring-0"\n                                           type="text"\n                                    />\n                                </div>\n                            </div>\n                            <div class="flex flex-col gap-1.5">\n                                <label for="input-link-title" class="text-sm text-textSecondary font-medium">Title</label>\n                                <input id="input-link-title"\n                                       class="input-default text-[0.9rem]"\n                                       type="text"\n                                />\n                            </div>\n                            <div class="flex flex-col gap-1.5">\n                                <label for="input-comments" class="text-sm text-textSecondary font-medium">Comments</label>\n                                <textarea id="input-comments"\n                                       class="input-default text-[0.9rem] resize-none"\n                                       rows="4"></textarea>\n                            </div> \n                        </div>\n                        <div class="flex flex-col gap-5 w-full sm:w-auto">\n                            <div class="flex flex-col gap-1.5">\n                                <span class="text-sm text-textSecondary font-medium">QR Code</span>\n                                <div class="p-1 mx-auto border w-full border-colorBorder rounded-lg">\n                                    <qr-code\n                                          id="qr1"\n                                          contents="https://shortnx.in/"\n                                          module-color="#1e1e1e"\n                                          position-ring-color="#1e1e1e"\n                                          position-center-color="#1e1e1e"\n                                          mask-x-to-y-ratio="1"\n                                          style="\n                                            width: 220px;\n                                            height: 220px;\n                                            user-select: none;\n                                            margin: auto;\n                                            background-color: #fff;\n                                          "\n                                    >\n                                        <img src="https://cdn.shortnx.in/images/qr_logo.svg" alt="" draggable="false" slot="icon"/>\n                                    </qr-code>\n                                </div>\n                                <div class="flex flex-wrap">\n                                    <input class="" type="radio" >\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                    <div class="flex justify-between items-center mt-8">\n                        <div class="flex justify-center items-center">\n                            <button class="">\n                                <i></i>\n                                Additional options\n                            </button>\n                        </div>\n                        <button class="relative px-6 py-2.5 text-[0.9rem] text-white text-center bg-colorPrimary rounded-lg cursor-pointer transition-shadow hover:shadow-lg hover:shadow-colorAccent/25">\n                            Create Link\n                        </button>\n                        \n                    </div>                \n                </div>\n            ';const t=this.#e.querySelector("#modal-link-btn-close"),e=this.#e.querySelector("#btn-generate-random-id"),n=this.#e.querySelector("#input-target-link"),i=this.#e.querySelector("#input-short-link"),s=this.#e.querySelector("#qr1");t.addEventListener("click",(()=>{this.hide()})),n.addEventListener("input",(t=>{this.#i(t.target.value).then((t=>{const e=JSON.parse(t);i.value=e.url})).catch((t=>{}))}));let l=null,o=null;i.addEventListener("input",(t=>{o!==t.target.value&&(l&&clearTimeout(l),t.target.value.length>12&&(t.target.value=t.target.value.substring(0,12)),l=setTimeout((()=>{o=t.target.value,s.contents=`https://shortnx.in/${t.target.value}`,s.animateQRCode("MaterializeIn")}),500))})),e.addEventListener("click",(()=>{i.value=this.#s()}));const a=this.#s();s.contents=`https://shortnx.in/${a}`,i.value=a,this.#t.prepend(this.#e),document.body.prepend(this.#t),document.getElementById("qr1").addEventListener("codeRendered",(()=>{document.getElementById("qr1").animateQRCode("MaterializeIn")}))}#l=!1;#i(t){if(!this.#l)return this.#l=!0,new Promise(((t,e)=>{this.#l=!1}))}#s(){return Math.random().toString(36).substring(7)}show(){this.#t.setAttribute("aria-hidden","false"),this.#e.setAttribute("aria-modal","true"),this.#e.setAttribute("role","dialog"),this.#e.setAttribute("tabindex","0"),this.#t.classList.remove(...this.#n.backdrop.hide),this.#t.classList.add(...this.#n.backdrop.show),this.#e.classList.remove(...this.#n.modal.hide),this.#e.classList.add(...this.#n.modal.show),document.body.style.overflow="hidden"}hide(){this.#t.setAttribute("aria-hidden","true"),this.#e.setAttribute("aria-modal","false"),this.#e.setAttribute("role","dialog"),this.#e.setAttribute("tabindex","-1"),this.#e.classList.remove(...this.#n.modal.show),this.#e.classList.add(...this.#n.modal.hide),setTimeout((()=>{this.#t.classList.remove(...this.#n.backdrop.show),this.#t.classList.add(...this.#n.backdrop.hide),document.body.style.overflow="auto"}),300)}};